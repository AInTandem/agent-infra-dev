# MCP Server Configuration
# 定義可用的 Model Context Protocol Servers

mcp_servers:
  # 檔案系統存取
  - name: "filesystem"
    description: "檔案系統讀寫存取"
    command: "npx"
    args:
      - "-y"
      - "@modelcontextprotocol/server-filesystem"
      - "${AGENT_ROOT_PATH}"  # 通過 .env 設定 AGENT_ROOT_PATH 環境變數
    env: {}
    timeout: 30
    enabled: true
    # 健康檢查設定
    health_check:
      enabled: true
      interval: 60  # 每 60 秒檢查一次

  # Brave 搜尋
  - name: "web-search"
    description: "網路搜尋功能（使用 Brave Search API）"
    command: "npx"
    args:
      - "-y"
      - "@modelcontextprotocol/server-brave-search"
    env:
      BRAVE_API_KEY: "${BRAVE_API_KEY}"
    timeout: 30
    enabled: true
    health_check:
      enabled: true
      interval: 60

  # GitHub 整合
  - name: "github"
    description: "GitHub 操作（Repositories, Issues, Pull Requests）"
    command: "uvx"
    args:
      - "mcp-server-github"
    env:
      GITHUB_TOKEN: "${GITHUB_TOKEN}"
    timeout: 30
    enabled: false  # 需要配置 GITHUB_TOKEN 後啟用
    health_check:
      enabled: true
      interval: 60

  # PostgreSQL 資料庫
  - name: "postgres"
    description: "PostgreSQL 資料庫操作"
    command: "uvx"
    args:
      - "mcp-server-postgres"
      - "--connection-string"
      - "${DATABASE_URL}"  # postgresql://user:password@host:port/database
    env: {}
    timeout: 30
    enabled: false  # 需要配置 DATABASE_URL 後啟用
    health_check:
      enabled: true
      interval: 60

  # Google Maps
  - name: "google-maps"
    description: "Google Maps 地理資訊服務"
    command: "npx"
    args:
      - "-y"
      - "@modelcontextprotocol/server-google-maps"
    env:
      GOOGLE_MAPS_API_KEY: "${GOOGLE_MAPS_API_KEY}"
    timeout: 30
    enabled: false
    health_check:
      enabled: true
      interval: 60

  # Puppeteer 網頁自動化
  - name: "puppeteer"
    description: "網頁自動化與抓取"
    command: "npx"
    args:
      - "-y"
      - "@modelcontextprotocol/server-puppeteer"
    env: {}
    timeout: 60
    enabled: false
    health_check:
      enabled: false  # Puppeteer 啟動較慢，可以停用健康檢查
